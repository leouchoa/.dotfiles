---
title: "Quarto-nvim Test Document"
format: html
jupyter: python3
---

## Section 1: Basic Execution

Test basic code execution with print statements.

```{python}
# Test 1: Simple print
print("Hello from quarto-nvim!")
x = 42
print(f"The answer is {x}")
```

## Section 2: Data Processing

Test pandas and data manipulation.

```{python}
# Test 2: Import libraries
import pandas as pd
import numpy as np

# Create sample data
df = pd.DataFrame({
    'name': ['Alice', 'Bob', 'Charlie'],
    'age': [25, 30, 35],
    'score': [85.5, 92.0, 78.3]
})

print(df)
print(f"\nMean score: {df['score'].mean():.2f}")
```

## Section 3: Visualization

Test matplotlib plotting (requires molten + image.nvim).

```{python}
# Test 3: Simple plot
import matplotlib.pyplot as plt

x = np.linspace(0, 2 * np.pi, 100)
y = np.sin(x)

plt.figure(figsize=(8, 4))
plt.plot(x, y, label='sin(x)')
plt.xlabel('x')
plt.ylabel('y')
plt.title('Sine Wave')
plt.legend()
plt.grid(True)
plt.show()
```

## Section 4: Multiple Outputs

Test rich output types.

```{python}
# Test 4: Mixed outputs
from IPython.display import display, HTML

# Text output
print("Text output")

# HTML output (molten can render this)
display(HTML("<h3 style='color: blue;'>HTML Output</h3>"))

# DataFrame (nice tabular display)
display(df)
```

## Section 5: Error Handling

Test that errors are displayed properly.

```{python}
 # Test 5: Intentional error
try:
    result = 1 / 0
except ZeroDivisionError as e:
    print(f"Caught error: {e}")

# This should show a traceback
# undefined_variable
```

## Section 6: NumPy Operations

Test numerical computations.

```{python}
# Test 6: NumPy array operations
arr = np.array([1, 2, 3, 4, 5])
print(f"Array: {arr}")
print(f"Mean: {arr.mean()}")
print(f"Std: {arr.std():.2f}")
print(f"Sum: {arr.sum()}")
```

## Usage Instructions

### Molten Workflow (Default - Jupyter-style inline output)

1. Initialize kernel: `<localleader>mi`
2. Run cell: `<CR>` (on code block)
3. Show/hide output: `<localleader>ms` / `<localleader>mh`
4. View plots: `<localleader>mp` (image popup)
5. Stop kernel: `<localleader>md`

### Slime Workflow (REPL - terminal-based)

1. Toggle to slime: `<leader>qq`
2. Open terminal: `:split | terminal`
3. Start IPython: `ipython`
4. Configure slime: `<localleader>ss`
5. Run cell: `<CR>` (on code block)

### General Commands

- `<leader>qa` - Activate quarto for buffer
- `<leader>qp` - Preview document
- `<leader>qe` - Activate otter LSP
- `<leader>qq` - Toggle slime/molten
- `]c` / `[c` - Navigate cells
